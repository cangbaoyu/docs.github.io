import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,e as a,d as p,o as n}from"./app-CPaQbjzT.js";const s={};function o(c,e){return n(),i("div",null,e[0]||(e[0]=[a('<h1 id="java系列-apachejmeter性能测试工具" tabindex="-1"><a class="header-anchor" href="#java系列-apachejmeter性能测试工具"><span>Java系列-ApacheJmeter性能测试工具</span></a></h1><h2 id="jmeter概述及安装" tabindex="-1"><a class="header-anchor" href="#jmeter概述及安装"><span>Jmeter概述及安装</span></a></h2><p>Apache JMeter是一款纯java编写负载功能测试和性能测试开源工具软件</p><p><strong>运行环境</strong></p><ul><li><code>Windows 10</code>，</li><li><code>JDK 1.8</code>，</li><li><code>JMeter 5.1.1</code>。</li></ul><p><strong>安装步骤</strong></p><ul><li>下载安装</li></ul><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029191043.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>下载完成后解压zip包双击JMeter解压路径（...\\apache-jmeter-5.1.1\\bin）bin下面的启动<code>jmeter.bat</code>即可</li></ul><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029191502.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>启动JMeter</li></ul><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029193334.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>汉化配置(在37行下添加 <code>language=zh_CN</code>) <img src="https://pic.sansei.top/images/java/jmeter_20191029193231.png" alt="" loading="lazy"></li></ul><h2 id="jmeter脚本编写" tabindex="-1"><a class="header-anchor" href="#jmeter脚本编写"><span>JMeter脚本编写</span></a></h2><h3 id="添加线程组" tabindex="-1"><a class="header-anchor" href="#添加线程组"><span>添加线程组</span></a></h3><p>右键点击“测试计划” -&gt; “添加” -&gt; “Threads(Users)” -&gt; “线程组”</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029194458.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这里可以配置线程组名称，线程数，准备时长（Ramp-Up Period(in seconds)）循环次数，调度器等参数：</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029194646.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>参数说明：</strong></p><ul><li><code>线程数</code>：虚拟用户数。一个虚拟用户占用一个进程或线程。设置多少虚拟用户数在这里也就是设置多少个线程数。</li><li><code>Ramp-Up Period(in seconds)准备时长</code>：设置的虚拟用户数需要多长时间全部启动。如果线程数为10，准备时长为2，那么需要2秒钟启动10个线程，也就是每秒钟启动5个线程。</li><li><code>循环次数</code>：每个线程发送请求的次数。如果线程数为10，循环次数为100，那么每个线程发送100次请求。总请求数为10*100=1000 。如果勾选了“永远”，那么所有线程会一直发送请求，一到选择停止运行脚本。</li><li><code>Delay Thread creation until needed</code>：直到需要时延迟线程的创建。</li><li><code>调度器</code>：设置线程组启动的开始时间和结束时间(配置调度器时，需要勾选循环次数为永远)</li><li><code>持续时间（秒）</code>：测试持续时间，会覆盖结束时间</li><li><code>启动延迟（秒）</code>：测试延迟启动时间，会覆盖启动时间</li><li><code>启动时间</code>：测试启动时间，启动延迟会覆盖它。当启动时间已过，手动只需测试时当前时间也会覆盖它。</li><li><code>结束时间</code>：测试结束时间，持续时间会覆盖它。</li></ul><p>因为接口调试需要，暂时均使用默认设置，待后面真正执行性能测试时再回来配置。</p><h3 id="添加http请求" tabindex="-1"><a class="header-anchor" href="#添加http请求"><span>添加HTTP请求</span></a></h3><p>右键点击“线程组” -&gt; “添加” -&gt; “取样器” -&gt; “HTTP请求” <img src="https://pic.sansei.top/images/java/jmeter_20191029195319.png" alt="" loading="lazy"></p><p>接口<code>http://www.baidu.com/s?ie=utf-8&amp;wd=jmeter</code>性能测试,如下图显示</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029195555.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>Http请求主要参数详解：</strong></p><ul><li><p>Web服务器</p><ul><li><code>协议</code>：向目标服务器发送HTTP请求协议，可以是HTTP或HTTPS，默认为HTTP</li><li><code>服务器名称或IP</code> ：HTTP请求发送的目标服务器名称或IP</li><li><code>端口号</code>：目标服务器的端口号，默认值为80</li></ul></li><li><p>Http请求</p><ul><li><code>方法</code>：发送HTTP请求的方法，可用方法包括GET、POST、HEAD、PUT、OPTIONS、TRACE、DELETE等。</li><li><code>路径</code>：目标URL路径（URL中去掉服务器地址、端口及参数后剩余部分）</li><li><code>Content encoding</code> ：编码方式，默认为ISO-8859-1编码，这里配置为utf-8</li></ul></li><li><p>同请求一起发送参数</p><ul><li>在请求中发送的URL参数，用户可以将URL中所有参数设置在本表中，表中每行为一个参数（对应URL中的 name=value），注意参数传入中文时需要勾选“编码”</li></ul></li></ul><h3 id="添加察看结果树" tabindex="-1"><a class="header-anchor" href="#添加察看结果树"><span>添加察看结果树</span></a></h3><p>右键点击“线程组” -&gt; “添加” -&gt; “监听器” -&gt; “察看结果树”</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029195137.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这时，运行Http请求，修改响应数据格式为“HTML Source Formatted”，可以看到本次搜索返回结果页面标题为”jmeter性能测试_百度搜索“。</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029200224.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="添加用户自定义变量" tabindex="-1"><a class="header-anchor" href="#添加用户自定义变量"><span>添加用户自定义变量</span></a></h3><p>可以添加用户自定义变量用以Http请求参数化，右键点击“线程组” -&gt; “添加” -&gt; “配置元件” -&gt; “用户定义的变量”：</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029200608.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>新增一个参数wd，存放搜索词：</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191029200915.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',38),p("p",{wd:""},"并在Http请求中使用该参数，格式为：$",-1),a('<figure><img src="https://pic.sansei.top/images/java/jmeter_20191029201028.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="添加断言" tabindex="-1"><a class="header-anchor" href="#添加断言"><span>添加断言</span></a></h3><p>右键点击“HTTP请求” -&gt; “添加”-&gt; “断言” -&gt; “响应断言”</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191107210326.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>校验返回的文本中是否包含搜索词，添加参数${wd}到要测试的模式中：</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191107210527.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="添加断言结果" tabindex="-1"><a class="header-anchor" href="#添加断言结果"><span>添加断言结果</span></a></h3><p>右键点击“HTTP请求” -&gt; “添加”-&gt; “监听器” -&gt; “断言结果”</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191107210715.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这时，再运行一次就可以看到断言结果成功或失败了</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191107211053.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="添加聚合报告" tabindex="-1"><a class="header-anchor" href="#添加聚合报告"><span>添加聚合报告</span></a></h3><p>右键点击“线程组” -&gt; “添加” -&gt; “监听器” -&gt; “聚合报告”，用以存放性能测试报告</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191107211151.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这样，就完成了一个完整Http接口的JMeter性能测试脚本编写。</p><h2 id="执行性能测试" tabindex="-1"><a class="header-anchor" href="#执行性能测试"><span>执行性能测试</span></a></h2><h3 id="配置线程组" tabindex="-1"><a class="header-anchor" href="#配置线程组"><span>配置线程组</span></a></h3><p>点击线程组，配置本次性能测试相关参数：<code>线程数</code>，<code>循环次数</code>，<code>持续时间</code>等，这里我们配置并发用户数为<code>10</code>，持续时间为<code>60s</code></p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191107211424.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="执行测试" tabindex="-1"><a class="header-anchor" href="#执行测试"><span>执行测试</span></a></h3><p>点击绿色小箭头按钮即可启动测试，测试之前需要点击小扫把按钮清除之前的调试结果。</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191107211702.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="分析测试报告" tabindex="-1"><a class="header-anchor" href="#分析测试报告"><span>分析测试报告</span></a></h2><p>待性能测试执行完成后，打开聚合报告可以看到：</p><figure><img src="https://pic.sansei.top/images/java/jmeter_20191107211807.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>聚合报告参数详解：</p><ul><li><code>Label</code>：每个 JMeter 的 element（例如 HTTP Request）都有一个 Name 属性，这里显示的就是 Name 属性的值</li><li><code>#Samples</code>：请求数——表示这次测试中一共发出了多少个请求，如果模拟10个用户，每个用户迭代10次，那么这里显示100</li><li><code>Average</code>：平均响应时间——默认情况下是单个 Request 的平均响应时间，当使用了 Transaction Controller 时，以Transaction 为单位显示平均响应时间</li><li><code>Median</code>：中位数，也就是 50％ 用户的响应时间</li><li><code>90% Line</code>：90％ 用户的响应时间</li><li><code>Min</code>：最小响应时间</li><li><code>Max</code>：最大响应时间</li><li><code>Error%</code>：错误率——错误请求数/请求总数</li><li><code>Throughput</code>：吞吐量——默认情况下表示每秒完成的请求数（Request per Second），当使用了 Transaction Controller 时，也可以表示类似 LoadRunner 的 Transaction per Second 数</li><li><code>KB/Sec</code>：每秒从服务器端接收到的数据量，相当于LoadRunner中的Throughput/Sec</li></ul><p><strong>一般而言，性能测试中需要重点关注的数据有：</strong><code>#Samples 请求数</code>，<code>Average 平均响应时间</code>，<code>Min 最小响应时间</code>，<code>Max 最大响应时间</code>，<code>Error% 错误率</code>及<code>Throughput 吞吐量</code>。</p>',28)]))}const g=t(s,[["render",o],["__file","Java系列-ApacheJmeter性能测试工具.html.vue"]]),d=JSON.parse('{"path":"/notebook/java/Java%E7%B3%BB%E5%88%97-ApacheJmeter%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7.html","title":"Java系列-ApacheJmeter性能测试工具","lang":"zh-CN","frontmatter":{"description":"Java系列-ApacheJmeter性能测试工具 Jmeter概述及安装 Apache JMeter是一款纯java编写负载功能测试和性能测试开源工具软件 运行环境 Windows 10， JDK 1.8， JMeter 5.1.1。 安装步骤 下载安装 下载完成后解压zip包双击JMeter解压路径（...\\\\apache-jmeter-5.1.1\\\\...","head":[["meta",{"property":"og:url","content":"https://www.sansei.top/notebook/java/Java%E7%B3%BB%E5%88%97-ApacheJmeter%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7.html"}],["meta",{"property":"og:site_name","content":"川上富江"}],["meta",{"property":"og:title","content":"Java系列-ApacheJmeter性能测试工具"}],["meta",{"property":"og:description","content":"Java系列-ApacheJmeter性能测试工具 Jmeter概述及安装 Apache JMeter是一款纯java编写负载功能测试和性能测试开源工具软件 运行环境 Windows 10， JDK 1.8， JMeter 5.1.1。 安装步骤 下载安装 下载完成后解压zip包双击JMeter解压路径（...\\\\apache-jmeter-5.1.1\\\\..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://pic.sansei.top/images/java/jmeter_20191029191043.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-17T15:50:06.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-17T15:50:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Java系列-ApacheJmeter性能测试工具\\",\\"image\\":[\\"https://pic.sansei.top/images/java/jmeter_20191029191043.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029191502.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029193334.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029193231.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029194458.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029194646.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029195319.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029195555.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029195137.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029200224.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029200608.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029200915.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191029201028.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191107210326.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191107210527.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191107210715.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191107211053.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191107211151.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191107211424.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191107211702.png\\",\\"https://pic.sansei.top/images/java/jmeter_20191107211807.png\\"],\\"dateModified\\":\\"2025-02-17T15:50:06.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Jmeter概述及安装","slug":"jmeter概述及安装","link":"#jmeter概述及安装","children":[]},{"level":2,"title":"JMeter脚本编写","slug":"jmeter脚本编写","link":"#jmeter脚本编写","children":[{"level":3,"title":"添加线程组","slug":"添加线程组","link":"#添加线程组","children":[]},{"level":3,"title":"添加HTTP请求","slug":"添加http请求","link":"#添加http请求","children":[]},{"level":3,"title":"添加察看结果树","slug":"添加察看结果树","link":"#添加察看结果树","children":[]},{"level":3,"title":"添加用户自定义变量","slug":"添加用户自定义变量","link":"#添加用户自定义变量","children":[]},{"level":3,"title":"添加断言","slug":"添加断言","link":"#添加断言","children":[]},{"level":3,"title":"添加断言结果","slug":"添加断言结果","link":"#添加断言结果","children":[]},{"level":3,"title":"添加聚合报告","slug":"添加聚合报告","link":"#添加聚合报告","children":[]}]},{"level":2,"title":"执行性能测试","slug":"执行性能测试","link":"#执行性能测试","children":[{"level":3,"title":"配置线程组","slug":"配置线程组","link":"#配置线程组","children":[]},{"level":3,"title":"执行测试","slug":"执行测试","link":"#执行测试","children":[]}]},{"level":2,"title":"分析测试报告","slug":"分析测试报告","link":"#分析测试报告","children":[]}],"git":{"createdTime":1739807406000,"updatedTime":1739807406000,"contributors":[{"name":"cangbao","email":"yph0228@163.com","commits":1}]},"readingTime":{"minutes":5.17,"words":1550},"filePathRelative":"notebook/java/Java系列-ApacheJmeter性能测试工具.md","localizedDate":"2025年2月17日","autoDesc":true}');export{g as comp,d as data};
